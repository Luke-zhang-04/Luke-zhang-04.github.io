/*! For license information please see portfolio.js.LICENSE.txt */
!function(){"use strict";function t(t,n,i,e){return new(i||(i=Promise))((function(o,s){function r(t){try{c(e.next(t))}catch(t){s(t)}}function a(t){try{c(e.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(r,a)}c((e=e.apply(t,n||[])).next())}))}var n,i;firebase.initializeApp({apiKey:"AIzaSyDKHbbyZoschUX1cMf5VdjRl9TtdIX1R9A",authDomain:"luke-zhang.firebaseapp.com",databaseURL:"https://luke-zhang.firebaseio.com",projectId:"luke-zhang",storageBucket:"luke-zhang.appspot.com",messagingSenderId:"309956853075",appId:"1:309956853075:web:ebb55b1076c4aca168f5a6"});const e=null===(n=firebase.firestore)||void 0===n?void 0:n.call(firebase);null===(i=firebase.functions)||void 0===i||i.call(firebase);const o=(n,i,e="hex")=>t(void 0,void 0,void 0,(function*(){var t;if(void 0===(null===(t=null===crypto||void 0===crypto?void 0:crypto.subtle)||void 0===t?void 0:t.digest)||"undefined"==typeof TextEncoder||"undefined"==typeof Uint8Array)return;const o=(new TextEncoder).encode(JSON.stringify(i)),s=yield crypto.subtle.digest(n,o);if("base64"===e)return btoa(String.fromCharCode(...new Uint8Array(s)));return Array.from(new Uint8Array(s)).map((t=>t.toString("hex"===e?16:e).padStart(2,"0"))).join("")})),s="https://luke-zhang-04.github.io/DeStagnate/error-codes",r=(t,n,i=!1)=>{if(n)for(const[e,o]of Object.entries(n))"string"==typeof o||"number"==typeof o?"innerHTML"===e?t.innerHTML=o.toString():i?t.setAttributeNS(null,e,o.toString()):t.setAttribute(e,o.toString()):"on"===e.slice(0,2)?"function"==typeof o&&t.addEventListener(e.slice(2).toLowerCase(),o):"ref"===e&&"object"==typeof o&&"current"in o?o.current=t:void 0!==o&&console.warn(typeof o+" is not a valid DeStagnate child")},a=(t,n)=>{if(null!=n)if(n instanceof Array)n.forEach((n=>a(t,n)));else if("string"==typeof n||"number"==typeof n)t.appendChild(document.createTextNode(n.toString()));else if(n instanceof y){if(!n.didMount&&t instanceof window.HTMLElement)return void n.mount(t);if(!(t instanceof window.HTMLElement))throw new Error(`ERROR: code 3. See ${s}`);n.parent!==t&&(n.parent=t),n.forceUpdate()}else t.appendChild(n)};function c(t,n,...i){if("string"==typeof t){const e=document.createElement(t);return r(e,n),a(e,i),e}return"function"==typeof t?t(n,i):Error("tagNameOrComponent is of invalid type.")}const l=(t,n,i,...e)=>{const o=document.createElementNS(t,n);return r(o,i,!0),a(o,e),o},d=()=>({current:null});class h{constructor(){this.createElement=c,this.createElementNS=l,this.createRef=d,this.componentDidCatch=t=>console.error(t),this.shouldComponentUpdate=()=>!0,this.render=()=>null}}h.createElement=c,h.createElementNS=l,h.createRef=d;const u=["onFocus","onBlur","onFocusIn","onFocusOut","onAnimationStart","onAnimationCancel","onAnimationEnd","onAnimationIteration","onTransitionStart","onTransitionCancel","onTransitionEnd","onTransitionRun","onAuxClick","onClick","onDblClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOver","onMouseOut","onMouseUp","onWheel"],f=["onLoad","onOnline","onOffline","onResize","onScroll","onKeyDown","onKeyPress","onKeyUp"];class v extends h{constructor(){super(...arguments),this.bindEventListeners=t=>{this.t(t.addEventListener),this.t(window.addEventListener,f)},this.unbindEventListeners=t=>{this.t(t.removeEventListener),this.t(window.removeEventListener,f)},this.t=(t,n=u)=>{for(const i of n){const n=i.slice(2).toLowerCase(),e=this[i];void 0!==e&&e instanceof Function&&t(n,e)}}}}const p=(t,n,i=3,e=10)=>{if(0===i)return t===n;if(typeof t!=typeof n)return!1;if(t instanceof Array&&n instanceof Array){if(t.length!==n.length)return!1;if(t.length>e||n.length>e)return t===n;for(let o=0;o<t.length;o++)if(!p(t[o],n[o],i-1,e))return!1;return!0}if(t instanceof Object&&n instanceof Object){if(!p(Object.keys(t),Object.keys(n),i-1,e))return!1;for(const o of Object.keys(t))if(!p(t[o],n[o],i-1,e))return!1;return!0}return t===n};var b={isEqual:p};const m="Refusing to update unmounted component";class y extends v{constructor(t,n){if(super(),this.props=n,this.i={},this.o=!1,this.l=!1,this.forceUpdate=()=>{var t,n;try{if(!this.l)throw new Error(m);if(null===(t=this.componentDidUpdate)||void 0===t||t.call(this),void 0===this.h)throw new Error(`ERROR: code 2. See ${s}.`);null===(n=this.getSnapshotBeforeUpdate)||void 0===n||n.call(this,Object.assign({},this.props),Object.assign({},this.state)),this.u(this.v())}catch(t){return this.p(t)}},this.stateDidChange=(t,n=3,i=15)=>{var e;if(void 0===t)return!b.isEqual(this.i,this.m,n,i);const o={},s={};for(const n of t)o[n]=this.i[n],s[n]=null===(e=this.m)||void 0===e?void 0:e[n];return!b.isEqual(o,s,n,i)},this.setState=(t,n=!0)=>{var i,e;try{if(!this.l)throw new Error(m);if(null===(i=this.componentWillUpdate)||void 0===i||i.call(this),void 0===this.h)throw new Error(`ERROR: code 2. See ${s}.`);this.m=Object.assign({},this.i),null===(e=this.getSnapshotBeforeUpdate)||void 0===e||e.call(this,Object.assign({},this.props),Object.assign({},this.state)),Object.assign(this.i,t);const o=n&&this.shouldComponentUpdate()?this.v():void 0;this.u(o)}catch(t){return this.p(t)}},this.mountComponent=t=>{var n,i;try{if(void 0!==t&&(this.parent=t),void 0===this.h)throw new Error(`ERROR: code 2. See ${s}.`);const e=this.render();if(this.o=!0,null===(n=this.componentWillMount)||void 0===n||n.call(this),null===e)throw new Error(`ERROR: code 3. See ${s}.`);if(this.bindEventListeners(this.h),this.l=!0,null===(i=this.componentDidMount)||void 0===i||i.call(this),e instanceof Array){const t=document.createDocumentFragment();return e.forEach((n=>t.appendChild(n))),this.h.appendChild(t)}return this.h.appendChild(e)}catch(t){return this.p(t)}},this.mount=this.mountComponent,this.unmountComponent=()=>{var t;try{if(void 0===this.h)return;null===(t=this.componentWillUnmount)||void 0===t||t.call(this),this.unbindEventListeners(this.h),this.g(),this.l=!1}catch(t){this.p(t)}},this.unmount=this.unmountComponent,this.g=()=>{if(void 0===this.h)throw new Error(`ERROR: code 2. See ${s}.`);for(;this.h.firstChild;)this.h.lastChild&&this.h.removeChild(this.h.lastChild)},this.v=()=>(this.g(),this.render()),this.u=t=>{var n,i,e;if(t instanceof Array)for(const i of t)null===(n=this.h)||void 0===n||n.appendChild(i);else t&&(null===(i=this.h)||void 0===i||i.appendChild(t));t&&(null===(e=this.componentDidUpdate)||void 0===e||e.call(this))},this.p=t=>{if(t instanceof Error)return this.componentDidCatch(t),t;const n=new Error(String(t));return this.componentDidCatch(n),n},null===t)throw new Error("Parent is null, expected HTMLElement | undefined.");this.h=t}get getState(){return this.state}get state(){return this.i}set state(t){this.o?(this.componentDidCatch(new Error(`ERROR: code 1. See ${s}.`)),this.setState(t)):(this.i=t,this.o=!0)}get getProps(){return this.props}set parent(t){this.h=t}get parent(){return this.h}get didMount(){return this.l}get prevState(){return this.m}}const g=(t,...n)=>{const i=document.createDocumentFragment();return a(i,n),i};var w;!function(t){t.Component=y,t.createRef=d,t.createElement=c,t.createElementNS=l,t.Fragment=g}(w||(w={}));var j=w;const O=t=>j.createElement("div",{class:"project-btn-container"},j.createElement("button",{class:"btn btn-pill-primary","data-toggle":"modal","data-target":`#modal-${t.id}`},"More Info ",j.createElement("span",{class:"material-icons"},"chevron_right"))),R=(t,n)=>t.href?j.createElement("a",Object.assign({target:"_blank",rel:"noopener noreferred"},t),n):null,E=t=>j.createElement("div",{class:"modal fade",id:`modal-${t.id}`,tabindex:"-1","aria-labelledby":t.id,"aria-hidden":"true"},j.createElement("div",{class:"modal-dialog modal-lg"},j.createElement("div",{class:"modal-content"},j.createElement("div",{class:"modal-header"},j.createElement((()=>j.createElement(j.Fragment,null,j.createElement("h5",{class:"modal-title",id:t.id},j.createElement("span",{class:"material-icons"},"source"),"  ",t.name),j.createElement("button",{type:"button",class:"btn-close","data-dismiss":"modal","aria-label":"Close"}))),null)),j.createElement("div",{class:"modal-body"},j.createElement((()=>{return j.createElement(j.Fragment,null,t.description,(n=t.date,Date.now()-n>15778476e3?j.createElement(j.Fragment,null,j.createElement("hr",null),j.createElement("p",null,"Note: this project was last modified"," ",Math.round((Date.now()-t.date)/864e5)," days ago. Some of the programming in this project may be old and filled with bad practice. I am aware of this.")):void 0),j.createElement("hr",{class:"d-block d-md-none"}),j.createElement("div",{class:"language d-block d-md-none"},j.createElement("div",{class:"language-indicator",style:`background-color: ${t.lang.colour}`}),t.lang.name));var n}),null)),j.createElement("div",{class:"modal-footer flex-row flex-nowrap justify-content-start"},j.createElement((()=>j.createElement(j.Fragment,null,j.createElement("div",{class:"d-none d-md-block col-3"},j.createElement("div",{class:"language"},j.createElement("div",{class:"language-indicator",style:`background-color: ${t.lang.colour}`}),t.lang.name)),j.createElement("div",{class:"col-12 col-md-9 d-flex justify-content-end pe-3 button-container"},j.createElement(R,{class:"btn btn-pill-dark mx-1",href:t.links.GitHub},"Source ",j.createElement("span",{class:"material-icons"},"code")),j.createElement(R,{class:"btn btn-pill-success mx-1",href:t.links.live},j.createElement("span",{class:"expand"},"Live"),j.createElement("span",{class:"material-icons"},"visibility")),j.createElement(R,{class:"btn btn-pill-primary mx-1",href:t.links.PyPi},j.createElement("span",{class:"expand"},"PyPi"),j.createElement("i",{class:"fab fa-python"})),j.createElement(R,{class:"btn btn-pill-danger mx-1",href:t.links.NPM},j.createElement("span",{class:"expand"},"NPM"))))),null))))),x=t=>j.createElement(j.Fragment,null,j.createElement(E,Object.assign({},t)),j.createElement("div",{class:"col-12 col-md-6 col-lg-3 project-card"},j.createElement("figure",null,j.createElement("img",{src:t.imgUrl,alt:`${t.name} cover`}),j.createElement("figcaption",{class:"text-center"},j.createElement("h1",null,t.name),j.createElement("p",null,t.shortDescription),j.createElement(O,Object.assign({},t))),j.createElement("div",{class:"card-overlay"}))));class S extends j.Component{constructor(n){super(n),this.componentDidMount=()=>t(this,void 0,void 0,(function*(){var n;const i=yield null===(n=e)||void 0===n?void 0:n.collection("projects").orderBy("date","desc").get(),s=[];if(i)for(const n of(t=>{const n=[];return t.forEach((t=>n.push(t))),n})(i))s.push((()=>t(this,void 0,void 0,(function*(){var t,i;return Object.assign(Object.assign({},n.data()),{imgUrl:(i=n.data().file,`https://firebasestorage.googleapis.com/v0/b/luke-zhang.appspot.com/o/project_images%2F${encodeURIComponent(i)}?alt=media`),name:n.id,id:null!==(t=yield o("SHA-256",n.id))&&void 0!==t?t:""})})))());this.setState({projects:yield Promise.all(s)})})),this.render=()=>this.state.projects?j.createElement("div",{class:"project-container container-fluid"},Array.from(function*(t,n=3){for(let i=0;i<t.length;i+=n)yield t.slice(i,i+n)}(this.state.projects,4)).map((t=>j.createElement("div",{class:"row project-row g-3 my-md-0"},t.map((t=>j.createElement(x,Object.assign({},t)))))))):j.createElement("div",{class:"d-flex justify-content-center align-items-center vh-100"},j.createElement("div",{class:"spinner-border text-primary",role:"status"},j.createElement("span",{class:"visually-hidden"},"Loading..."))),this.state={projects:void 0}}}new S(document.getElementById("root")).mount()}();
//# sourceMappingURL=portfolio.js.map
